(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{151:function(s,n,a){"use strict";a.r(n);var e=a(0),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"十四-包管理工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十四-包管理工具"}},[s._v("#")]),s._v(" 十四.包管理工具")]),s._v(" "),a("h3",{attrs:{id:"_1-package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-package-json"}},[s._v("#")]),s._v(" 1.package.json")]),s._v(" "),a("h3",{attrs:{id:"_2-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用命令"}},[s._v("#")]),s._v(" 2.常用命令")]),s._v(" "),a("p",[s._v("一般在项目的构建和开放阶段，我们常用的 npm 命令有：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成package.json文件（需要手动配置）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成package.json文件（使用默认配置）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init -y\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一键安装package.json下的依赖包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在项目中安装包名为xxx的依赖包（配置在dependences下）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在项目中安装包名为xxx的依赖包（配置在dependencies下）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i xxx --save\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在项目中安装包名为xxx的依赖包（配置在devDependencies下）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i xxx --save-dev\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局安装包名为 xxx的依赖包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#运行package.json中scripts下的命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新某个包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update xxx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("比较陌生但实用的有：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开xxx包的主页")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" home xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开xxx包的代码仓库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" repo xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将当前模块发布到npmjs.com,需要先登录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前依赖的版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前依赖仓库的版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view xxx version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_3-第三方插件配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三方插件配置"}},[s._v("#")]),s._v(" 3.第三方插件配置")]),s._v(" "),a("p",[s._v("在上方 package.json 文件中我们可以看到有 browserslist 这一配置项，那么该配置项便是这里所说的第三方插件配置，该配置的主要作用是用于在不同的前段工具之间共享目标浏览器和 Node.js 的版本。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"browserslist"')]),s._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"> 1%"')]),s._v(", //表示包含使用率 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("%的浏览器\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 2 versions"')]),s._v(", // 表示包含浏览器最新的两个版本\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not ie <= 9"')]),s._v(" //表示不包含 ie8 及以下版本\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("比如"),a("code",[s._v("autoprefixer")]),s._v("这样的插件需要把你写的 css 样式适配不同的浏览器，那么这里要针对那些浏览器呢，即使上面配置中所包含的。")]),s._v(" "),a("p",[s._v("而如果写在 autoprefixer 的配置中，那么会存在一个问题，万一其他第三方插件也需要浏览器的包含范围用于实现其特定的功能，那么就又得在其配置中设置一遍，这样就无法得以共用。所以在 package.json 中配置 browserslist 的属性使得所有工具都会自动找到目标浏览器。")]),s._v(" "),a("p",[s._v("当然，你也可以单独写在.browserslistrc 的文件中：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("# Browsers that we support\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("\nlast "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" versions\nnot ie "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("至于它是如何平衡浏览器的使用率和版本的，数据都是来源于 Can I Use。你也可以搜索配置项所包含的浏览器列表，比如搜索"),a("code",[s._v("last 2 versions")]),s._v(" 会得到你想要的结果，或者在项目终端运行如下命令查看：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("npx browserslist\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("除了上述插件的配置，项目中常用的插件还有：babel、postcss 等，有兴趣的同学可以访问其官网进行了解。")]),s._v(" "),a("h3",{attrs:{id:"_4-vue-cli-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-vue-cli-安装"}},[s._v("#")]),s._v(" 4.vue-cli 安装")]),s._v(" "),a("p",[s._v("在上述的教程中，我们使用 npm 或 yarn 进行了包的安装和配置，处理了以上两种方法，vue-cli3.x 还提供了其专属的"),a("code",[s._v("vue add")]),s._v("命令，但是需要注意的是该命令安装的包是以@vue/cli-plugin 或者 vue-cli-plugin 开头，即只能安装 Vue 集成的包。")]),s._v(" "),a("p",[s._v("比如运行：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("vue "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" jquery\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其会解析为完整的包名"),a("code",[s._v("@vue-cli-plugin-jquery")]),s._v(",很显然这个插件不存在便会安装失败。或者你运行：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("vue "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @vue/eslint\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其会解析为完整的包名"),a("code",[s._v("@vue/cli-plugin-eslint")]),s._v(",因为该包存在所以会安装成功。")]),s._v(" "),a("p",[s._v("同时，不同于 npm 或 yarn 安装，"),a("code",[s._v("vue add")]),s._v("不仅会将包安装到你的项目中，其还会改变项目的代码或文件结构，所以安装前最好提交你的代码至仓库。")]),s._v(" "),a("p",[s._v("另外 vue add 中还有两个特列，如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装vue-router")]),s._v("\nvue "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" router\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装vuex")]),s._v("\nvue "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" vuex\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("这两个命令会直接安装 vue-router 和 vuex 并改变你的代码结构，使你的项目集成这两个配置，并不会去安装添加 vue-cli-plugin 或@vue/cli-plugin 前缀的包。")])])}),[],!1,null,null,null);n.default=t.exports}}]);